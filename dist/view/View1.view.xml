<mvc:View
    controllerName="screentest.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:viz="sap.viz.ui5.controls"
    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
    xmlns:viz.data="sap.viz.ui5.data"
>
    <Page
        id="page"
        title="Peso de Chegada"
        showNavButton="true"
        navButtonPress="onNavBack"
    >
        <content>
            <!-- Seção de Parâmetros -->
            <Panel
                headerText="Parâmetros"
                expandable="true"
                expanded="false"
                class="sapUiSmallMargin"
                width="98%"
            >
                <!-- Primeira linha - Empresa, Centro, Ano, Viagem e Opr. -->
                <HBox
                    alignItems="Center"
                    class="sapUiTinyMarginTop"
                >
                    <!-- Empresa -->
                    <core:Icon
                        src="sap-icon://home"
                        class="sapUiTinyMarginEnd"
                    />
                    <Label
                        text="Empresa:"
                        labelFor="inputEmpresa"
                        class="sapUiTinyMarginEnd"
                    />
                    <Input
                        id="inputEmpresa"
                        width="80px"
                        showValueHelp="true"
                        valueHelpRequest="onValueHelp"
                    />
                    <Input
                        id="inputEmpresaDesc"
                        width="160px"
                        editable="false"
                    />

                    <!-- Centro -->
                    <core:Icon
                        src="sap-icon://factory"
                        class="sapUiSmallMarginBegin sapUiTinyMarginEnd"
                    />
                    <Label
                        text="Centro:"
                        labelFor="inputCentro"
                        class="sapUiTinyMarginEnd"
                    />
                    <Input
                        id="inputCentro"
                        width="80px"
                    />
                    <Input
                        id="inputCentroDesc"
                        width="160px"
                        editable="false"
                    />

                    <!-- Ano -->
                    <core:Icon
                        src="sap-icon://calendar"
                        class="sapUiSmallMarginBegin sapUiTinyMarginEnd"
                    />
                    <Label
                        text="Ano:"
                        labelFor="inputAno"
                        class="sapUiTinyMarginEnd"
                    />
                    <Input
                        id="inputAno"
                        width="60px"
                    />

                    <!-- Viagem -->
                    <core:Icon
                        src="sap-icon://shipping-status"
                        class="sapUiSmallMarginBegin sapUiTinyMarginEnd"
                    />
                    <Label
                        text="Viagem:"
                        labelFor="inputViagem"
                        class="sapUiTinyMarginEnd"
                    />
                    <Input
                        id="inputViagem"
                        width="50px"
                        class="sapUiTinyMarginEnd"
                    />
                    <Button
                        icon="sap-icon://search"
                        press="onSearchViagem"
                    />

                    <!-- Opr. -->
                    <Label
                        text="Opr.:"
                        class="sapUiSmallMarginBegin sapUiTinyMarginEnd"
                    />
                    <Select
                        id="selectOperacao"
                        width="150px"
                    >
                        <items>
                            <core:Item
                                key=""
                                text="Sem Operação"
                            />
                            <core:Item
                                key="op1"
                                text="Operação 1"
                            />
                            <core:Item
                                key="op2"
                                text="Operação 2"
                            />
                        </items>
                    </Select>
                </HBox>

                <!-- Segunda linha - Radio Buttons e Botões de Ação -->
                <HBox
                    alignItems="Center"
                    wrap="Wrap"
                    class="sapUiSmallMarginTop"
                >
                    <!-- Radio Buttons -->
                    <RadioButtonGroup
                        id="rbgTipo"
                        columns="3"
                        class="sapUiMediumMarginEnd"
                    >
                        <RadioButton
                            id="rbBarcaca"
                            text="Gerar por Barcaça"
                            selected="true"
                        />
                        <RadioButton
                            id="rbVisaoCTe"
                            text="Visão CT-e"
                        />
                        <RadioButton
                            id="rbVisaoNFe"
                            text="Visão NF-e"
                        />
                    </RadioButtonGroup>

                    <!-- Botões de Ação -->
                    <HBox
                        alignItems="Center"
                        wrap="Wrap"
                    >
                        <Button
                            id="btnDisponibilizar"
                            text="Disponibilizar p/ CCT"
                            icon="sap-icon://accept"
                            type="Accept"
                            press="onDisponibilizar"
                            class="sapUiTinyMarginEnd"
                        />

                        <Button
                            id="btnRemover"
                            text="Remover CCT"
                            icon="sap-icon://undo"
                            type="Reject"
                            press="onRemover"
                            class="sapUiTinyMarginEnd"
                        />

                        <Button
                            id="btnDataSaida"
                            text="Data Saída Comboio"
                            icon="sap-icon://calendar"
                            press="onDataSaida"
                            class="sapUiTinyMarginEnd"
                        />

                        <DatePicker
                            id="dataSaidaComboio"
                            width="130px"
                            enabled="false"
                            class="sapUiTinyMarginEnd"
                            displayFormat="dd/MM/yyyy"
                        />

                        <Input
                            id="inputTimer"
                            value="00:00:00"
                            width="100px"
                            editable="false"
                        />
                    </HBox>
                </HBox>
            </Panel>

            <!-- Seção Gráfica -->
            <Panel
                headerText="Análise Geral"
                expandable="true"
                expanded="true"
                class="sapUiSmallMargin"
                width="98%"
            >
                <l:Grid
                    defaultSpan="L6 M12 S12"
                    class="sapUiSmallMargin"
                >
                    <!-- Gráfico de Pizza - Status CCT -->
                    <VBox class="sapUiSmallMarginBottom">
                        <Title
                            text="Distribuição por Status CCT"
                            level="H3"
                            class="sapUiSmallMarginBottom"
                        />
                        <viz:VizFrame
                            id="chartStatusCCT"
                            uiConfig="{applicationSet:'fiori'}"
                            height="350px"
                            width="100%"
                            vizType="donut"
                            vizProperties="{
                                title: {
                                    visible: false
                                },
                                plotArea: {
                                    dataLabel: {
                                        visible: true,
                                        type: 'percentage'
                                    }
                                }
                            }"
                        >
                            <viz:dataset>
                                <viz.data:FlattenedDataset
                                    data="{/statusChartData}"
                                >
                                    <viz.data:dimensions>
                                        <viz.data:DimensionDefinition
                                            name="Status"
                                            value="{status}"
                                        />
                                    </viz.data:dimensions>
                                    <viz.data:measures>
                                        <viz.data:MeasureDefinition
                                            name="Quantidade"
                                            value="{quantidade}"
                                        />
                                    </viz.data:measures>
                                </viz.data:FlattenedDataset>
                            </viz:dataset>
                            <viz:feeds>
                                <viz.feeds:FeedItem
                                    uid="size"
                                    type="Measure"
                                    values="Quantidade"
                                />
                                <viz.feeds:FeedItem
                                    uid="color"
                                    type="Dimension"
                                    values="Status"
                                />
                            </viz:feeds>
                        </viz:VizFrame>
                    </VBox>

                    <!-- Gráfico de Colunas - Peso Bruto vs Líquido -->
                    <VBox class="sapUiSmallMarginBottom">
                        <Title
                            text="Comparação Total: Peso Bruto vs Líquido"
                            level="H3"
                            class="sapUiSmallMarginBottom"
                        />
                        <viz:VizFrame
                            id="chartPesos"
                            uiConfig="{applicationSet:'fiori'}"
                            height="350px"
                            width="100%"
                            vizType="column"
                            vizProperties="{
                                title: {
                                    visible: false
                                },
                                plotArea: {
                                    dataLabel: {
                                        visible: true,
                                        type: 'value'
                                    }
                                }
                            }"
                        >
                            <viz:dataset>
                                <viz.data:FlattenedDataset
                                    data="{/pesosChartData}"
                                >
                                    <viz.data:dimensions>
                                        <viz.data:DimensionDefinition
                                            name="Tipo"
                                            value="{tipo}"
                                        />
                                    </viz.data:dimensions>
                                    <viz.data:measures>
                                        <viz.data:MeasureDefinition
                                            name="Peso (KG)"
                                            value="{valor}"
                                        />
                                    </viz.data:measures>
                                </viz.data:FlattenedDataset>
                            </viz:dataset>
                            <viz:feeds>
                                <viz.feeds:FeedItem
                                    uid="valueAxis"
                                    type="Measure"
                                    values="Peso (KG)"
                                />
                                <viz.feeds:FeedItem
                                    uid="categoryAxis"
                                    type="Dimension"
                                    values="Tipo"
                                />
                            </viz:feeds>
                        </viz:VizFrame>
                    </VBox>
                </l:Grid>
            </Panel>

            <!-- Painel Resumo Geral -->
            <Panel
                headerText="Resumo Geral"
                expandable="true"
                expanded="true"
                class="sapUiSmallMargin"
                width="98%"
            >
                <l:Grid
                    defaultSpan="L3 M6 S12"
                    class="sapUiSmallMargin"
                >
                    <!-- Card 1 - Total de Cargas -->
                    <Panel
                        class="sapUiSmallMargin"
                        backgroundDesign="Solid"
                    >
                        <VBox
                            alignItems="Center"
                            justifyContent="Center"
                        >
                            <Text
                                text="TOTAL DE CARGAS"
                                textAlign="Center"
                            />
                            <Title
                                text="{/resumo/totalCargas}"
                                level="H1"
                                titleStyle="H1"
                                class="sapUiLargeMarginTop"
                            />
                        </VBox>
                    </Panel>

                    <!-- Card 2 - Peso Bruto Total -->
                    <Panel
                        class="sapUiSmallMargin"
                        backgroundDesign="Solid"
                    >
                        <VBox
                            alignItems="Center"
                            justifyContent="Center"
                        >
                            <Text
                                text="PESO BRUTO TOTAL"
                                textAlign="Center"
                            />
                            <VBox
                                alignItems="Center"
                                class="sapUiLargeMarginTop"
                            >
                                <Title
                                    text="{
                            path: '/resumo/pesoBrutoTotal',
                            type: 'sap.ui.model.type.Float',
                            formatOptions: {
                                minFractionDigits: 2,
                                maxFractionDigits: 2
                            }
                        }"
                                    level="H1"
                                    titleStyle="H1"
                                />
                                <Text text="ton" />
                            </VBox>
                        </VBox>
                    </Panel>

                    <!-- Card 3 - Peso Líquido Total -->
                    <Panel
                        class="sapUiSmallMargin"
                        backgroundDesign="Solid"
                    >
                        <VBox
                            alignItems="Center"
                            justifyContent="Center"
                        >
                            <Text
                                text="PESO LÍQUIDO TOTAL"
                                textAlign="Center"
                            />
                            <VBox
                                alignItems="Center"
                                class="sapUiLargeMarginTop"
                            >
                                <Title
                                    text="{
                            path: '/resumo/pesoLiquidoTotal',
                            type: 'sap.ui.model.type.Float',
                            formatOptions: {
                                minFractionDigits: 2,
                                maxFractionDigits: 2
                            }
                        }"
                                    level="H1"
                                    titleStyle="H1"
                                />
                                <Text text="ton" />
                            </VBox>
                        </VBox>
                    </Panel>

                    <!-- Card 4 - Divergência Média -->
                    <Panel
                        class="sapUiSmallMargin"
                        backgroundDesign="Solid"
                    >
                        <VBox
                            alignItems="Center"
                            justifyContent="Center"
                        >
                            <Text
                                text="DIVERGÊNCIA MÉDIA"
                                textAlign="Center"
                            />
                            <VBox
                                alignItems="Center"
                                class="sapUiLargeMarginTop"
                            >
                                <Title
                                    text="{
                            path: '/resumo/divergenciaMedia',
                            type: 'sap.ui.model.type.Float',
                            formatOptions: {
                                minFractionDigits: 2,
                                maxFractionDigits: 2
                            }
                        }"
                                    level="H1"
                                    titleStyle="H1"
                                />
                                <Text text="%" />
                            </VBox>
                        </VBox>
                    </Panel>
                </l:Grid>
            </Panel>

            <!-- Tabela de Resultados -->
            <Table
                id="tableResults"
                inset="false"
                items="{/results}"
                mode="MultiSelect"
                class="sapUiSmallMargin"
                width="98%"
            >
                <headerToolbar>
                    <OverflowToolbar>
                        <Title
                            text="Resultados ({/results/length})"
                            level="H2"
                        />
                        <ToolbarSpacer />
                        <Button
                            icon="sap-icon://ai"
                            text="Analise com IA"
                            type="Ghost"
                            tooltip="Call AI"
                            press="onCallAI"
                        />
                        <Button
                            icon="sap-icon://excel-attachment"
                            type="Ghost"
                            tooltip="Exportar para Excel"
                            press="onExport"
                        />
                        <Button
                            icon="sap-icon://refresh"
                            type="Ghost"
                            tooltip="Atualizar"
                            press="onRefresh"
                        />
                    </OverflowToolbar>
                </headerToolbar>
                <columns>
                    <Column
                        width="10%"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                    >
                        <Text text="Barcaça" />
                    </Column>
                    <Column
                        width="12%"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                    >
                        <Text text="CT-e" />
                    </Column>
                    <Column
                        width="12%"
                        minScreenWidth="Desktop"
                        demandPopin="true"
                    >
                        <Text text="NF-e" />
                    </Column>
                    <Column
                        width="15%"
                        minScreenWidth="Desktop"
                        demandPopin="true"
                    >
                        <Text text="Material" />
                    </Column>
                    <Column
                        width="10%"
                        minScreenWidth="Tablet"
                        demandPopin="false"
                        hAlign="End"
                    >
                        <Text text="Peso Bruto" />
                    </Column>
                    <Column
                        width="10%"
                        minScreenWidth="Tablet"
                        demandPopin="false"
                        hAlign="End"
                    >
                        <Text text="Peso Líquido" />
                    </Column>
                    <Column
                        width="10%"
                        minScreenWidth="Desktop"
                        demandPopin="true"
                    >
                        <Text text="Data Chegada" />
                    </Column>
                    <Column
                        width="10%"
                        minScreenWidth="Desktop"
                        demandPopin="true"
                    >
                        <Text text="Status CCT" />
                    </Column>
                    <Column
                        width="11%"
                        minScreenWidth="Desktop"
                        demandPopin="true"
                    >
                        <Text text="Ações" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{barcaca}" />
                            <Text text="{cte}" />
                            <Text text="{nfe}" />
                            <Text text="{material}" />
                            <ObjectNumber
                                number="{
                                    path: 'pesoBruto',
                                    type: 'sap.ui.model.type.Float',
                                    formatOptions: {
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2
                                    }
                                }"
                                unit="KG"
                            />
                            <ObjectNumber
                                number="{
                                    path: 'pesoLiquido',
                                    type: 'sap.ui.model.type.Float',
                                    formatOptions: {
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2
                                    }
                                }"
                                unit="KG"
                            />
                            <Text
                                text="{
                                path: 'dataChegada',
                                type: 'sap.ui.model.type.Date',
                                formatOptions: {
                                    pattern: 'dd/MM/yyyy'
                                }
                            }"
                            />
                            <ObjectStatus
                                text="{statusCCT}"
                                state="{
                                    path: 'statusCCT',
                                    formatter: '.formatter.formatStatusState'
                                }"
                            />
                            <HBox>
                                <Button
                                    icon="sap-icon://display"
                                    type="Transparent"
                                    press="onViewDetails"
                                    tooltip="Visualizar"
                                />
                                <Button
                                    icon="sap-icon://edit"
                                    type="Transparent"
                                    press="onEdit"
                                    tooltip="Editar"
                                />
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

            <!-- Dialog com Gráficos -->
            <Dialog
                id="chartDialog"
                title="Detalhes e Análises - {chartData>/cte}"
                contentWidth="1200px"
                contentHeight="800px"
                resizable="true"
                draggable="true"
            >
                <content>
                    <VBox class="sapUiSmallMargin">
                        <!-- Informações do Item -->
                        <Panel
                            headerText="Informações Gerais"
                            class="sapUiSmallMarginBottom"
                        >
                            <l:Grid
                                defaultSpan="L4 M6 S12"
                                class="sapUiSmallMargin"
                            >
                                <Label
                                    text="Barcaça:"
                                    design="Bold"
                                />
                                <Text text="{chartData>/barcaca}" />

                                <Label
                                    text="CT-e:"
                                    design="Bold"
                                />
                                <Text text="{chartData>/cte}" />

                                <Label
                                    text="NF-e:"
                                    design="Bold"
                                />
                                <Text text="{chartData>/nfe}" />

                                <Label
                                    text="Material:"
                                    design="Bold"
                                />
                                <Text text="{chartData>/material}" />

                                <Label
                                    text="Peso Bruto:"
                                    design="Bold"
                                />
                                <ObjectNumber
                                    number="{chartData>/pesoBruto}"
                                    unit="KG"
                                    emphasized="false"
                                />

                                <Label
                                    text="Peso Líquido:"
                                    design="Bold"
                                />
                                <ObjectNumber
                                    number="{chartData>/pesoLiquido}"
                                    unit="KG"
                                    emphasized="false"
                                />

                                <Label
                                    text="Data Chegada:"
                                    design="Bold"
                                />
                                <Text
                                    text="{
                                    path: 'chartData>/dataChegada',
                                    type: 'sap.ui.model.type.Date',
                                    formatOptions: {
                                        pattern: 'dd/MM/yyyy'
                                    }
                                }"
                                />

                                <Label
                                    text="Status CCT:"
                                    design="Bold"
                                />
                                <ObjectStatus
                                    text="{chartData>/statusCCT}"
                                    state="{
                                        path: 'chartData>/statusCCT',
                                        formatter: '.formatter.formatStatusState'
                                    }"
                                />
                            </l:Grid>
                        </Panel>

                        <!-- Gráficos -->
                        <Panel headerText="Análises Gráficas">
                            <l:Grid
                                defaultSpan="L6 M12 S12"
                                class="sapUiSmallMargin"
                            >
                                <!-- Gráfico de Barras - Comparação de Pesos -->
                                <VBox class="sapUiSmallMarginBottom">
                                    <Title
                                        text="Comparação: Peso Bruto vs Líquido"
                                        level="H3"
                                        class="sapUiSmallMarginBottom"
                                    />
                                    <viz:VizFrame
                                        id="chartPesosDetalhes"
                                        uiConfig="{applicationSet:'fiori'}"
                                        height="300px"
                                        width="100%"
                                        vizType="column"
                                        vizProperties="{
                                            title: {
                                                visible: false
                                            },
                                            plotArea: {
                                                dataLabel: {
                                                    visible: true,
                                                    type: 'value'
                                                }
                                            }
                                        }"
                                    >
                                        <viz:dataset>
                                            <viz.data:FlattenedDataset
                                                data="{chartData>/pesosData}"
                                            >
                                                <viz.data:dimensions>
                                                    <viz.data:DimensionDefinition
                                                        name="Tipo"
                                                        value="{chartData>tipo}"
                                                    />
                                                </viz.data:dimensions>
                                                <viz.data:measures>
                                                    <viz.data:MeasureDefinition
                                                        name="Peso (KG)"
                                                        value="{chartData>valor}"
                                                    />
                                                </viz.data:measures>
                                            </viz.data:FlattenedDataset>
                                        </viz:dataset>
                                        <viz:feeds>
                                            <viz.feeds:FeedItem
                                                uid="valueAxis"
                                                type="Measure"
                                                values="Peso (KG)"
                                            />
                                            <viz.feeds:FeedItem
                                                uid="categoryAxis"
                                                type="Dimension"
                                                values="Tipo"
                                            />
                                        </viz:feeds>
                                    </viz:VizFrame>
                                </VBox>

                                <!-- Gráfico de Pizza - Distribuição de Peso -->
                                <VBox class="sapUiSmallMarginBottom">
                                    <Title
                                        text="Distribuição de Peso"
                                        level="H3"
                                        class="sapUiSmallMarginBottom"
                                    />
                                    <viz:VizFrame
                                        id="chartDistribuicao"
                                        uiConfig="{applicationSet:'fiori'}"
                                        height="300px"
                                        width="100%"
                                        vizType="donut"
                                        vizProperties="{
                                            title: {
                                                visible: false
                                            },
                                            plotArea: {
                                                dataLabel: {
                                                    visible: true,
                                                    type: 'percentage'
                                                }
                                            }
                                        }"
                                    >
                                        <viz:dataset>
                                            <viz.data:FlattenedDataset
                                                data="{chartData>/distribuicaoData}"
                                            >
                                                <viz.data:dimensions>
                                                    <viz.data:DimensionDefinition
                                                        name="Categoria"
                                                        value="{chartData>categoria}"
                                                    />
                                                </viz.data:dimensions>
                                                <viz.data:measures>
                                                    <viz.data:MeasureDefinition
                                                        name="Valor"
                                                        value="{chartData>valor}"
                                                    />
                                                </viz.data:measures>
                                            </viz.data:FlattenedDataset>
                                        </viz:dataset>
                                        <viz:feeds>
                                            <viz.feeds:FeedItem
                                                uid="size"
                                                type="Measure"
                                                values="Valor"
                                            />
                                            <viz.feeds:FeedItem
                                                uid="color"
                                                type="Dimension"
                                                values="Categoria"
                                            />
                                        </viz:feeds>
                                    </viz:VizFrame>
                                </VBox>

                                <!-- Gráfico de Linha - Histórico de Pesos da Barcaça -->
                                <VBox class="sapUiSmallMarginBottom">
                                    <Title
                                        text="Histórico de Pesos - Barcaça {chartData>/barcaca}"
                                        level="H3"
                                        class="sapUiSmallMarginBottom"
                                    />
                                    <viz:VizFrame
                                        id="chartHistorico"
                                        uiConfig="{applicationSet:'fiori'}"
                                        height="300px"
                                        width="100%"
                                        vizType="line"
                                        vizProperties="{
                                            title: {
                                                visible: false
                                            },
                                            plotArea: {
                                                dataLabel: {
                                                    visible: true,
                                                    type: 'value'
                                                }
                                            }
                                        }"
                                    >
                                        <viz:dataset>
                                            <viz.data:FlattenedDataset
                                                data="{chartData>/historicoData}"
                                            >
                                                <viz.data:dimensions>
                                                    <viz.data:DimensionDefinition
                                                        name="Data"
                                                        value="{chartData>data}"
                                                    />
                                                </viz.data:dimensions>
                                                <viz.data:measures>
                                                    <viz.data:MeasureDefinition
                                                        name="Peso Bruto"
                                                        value="{chartData>pesoBruto}"
                                                    />
                                                    <viz.data:MeasureDefinition
                                                        name="Peso Líquido"
                                                        value="{chartData>pesoLiquido}"
                                                    />
                                                </viz.data:measures>
                                            </viz.data:FlattenedDataset>
                                        </viz:dataset>
                                        <viz:feeds>
                                            <viz.feeds:FeedItem
                                                uid="valueAxis"
                                                type="Measure"
                                                values="Peso Bruto,Peso Líquido"
                                            />
                                            <viz.feeds:FeedItem
                                                uid="categoryAxis"
                                                type="Dimension"
                                                values="Data"
                                            />
                                        </viz:feeds>
                                    </viz:VizFrame>
                                </VBox>

                                <!-- Gráfico de Barras Empilhadas - Comparação com Outras Barcaças -->
                                <VBox class="sapUiSmallMarginBottom">
                                    <Title
                                        text="Comparação com Outras Barcaças"
                                        level="H3"
                                        class="sapUiSmallMarginBottom"
                                    />
                                    <viz:VizFrame
                                        id="chartComparacao"
                                        uiConfig="{applicationSet:'fiori'}"
                                        height="300px"
                                        width="100%"
                                        vizType="stacked_column"
                                        vizProperties="{
                                            title: {
                                                visible: false
                                            },
                                            plotArea: {
                                                dataLabel: {
                                                    visible: true,
                                                    type: 'value'
                                                }
                                            }
                                        }"
                                    >
                                        <viz:dataset>
                                            <viz.data:FlattenedDataset
                                                data="{chartData>/comparacaoData}"
                                            >
                                                <viz.data:dimensions>
                                                    <viz.data:DimensionDefinition
                                                        name="Barcaça"
                                                        value="{chartData>barcaca}"
                                                    />
                                                </viz.data:dimensions>
                                                <viz.data:measures>
                                                    <viz.data:MeasureDefinition
                                                        name="Peso Bruto"
                                                        value="{chartData>pesoBruto}"
                                                    />
                                                    <viz.data:MeasureDefinition
                                                        name="Peso Líquido"
                                                        value="{chartData>pesoLiquido}"
                                                    />
                                                </viz.data:measures>
                                            </viz.data:FlattenedDataset>
                                        </viz:dataset>
                                        <viz:feeds>
                                            <viz.feeds:FeedItem
                                                uid="valueAxis"
                                                type="Measure"
                                                values="Peso Bruto,Peso Líquido"
                                            />
                                            <viz.feeds:FeedItem
                                                uid="categoryAxis"
                                                type="Dimension"
                                                values="Barcaça"
                                            />
                                        </viz:feeds>
                                    </viz:VizFrame>
                                </VBox>
                            </l:Grid>
                        </Panel>
                    </VBox>
                </content>
                <beginButton>
                    <Button
                        text="Fechar"
                        press="onCloseChartDialog"
                    />
                </beginButton>
            </Dialog>
        </content>
    </Page>
</mvc:View>
